<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2D Variogram Concept Demo (Dynamic Lag)</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>2D Variogram Concept Playground</h1>
    <p>
        Visualizes randomly generated 2D spatial data and its corresponding empirical semivariogram.
        <br>
        - Left plot shows data points (X, Y) colored by value (Z). Higher noise increases value randomness.
        <br>
        - Right plot shows scaled semivariance vs. lag distance. Points represent bin averages; lighter points show approx. +/- 1 Std. Dev. bounds.
        <br>
        - Semivariance (Y-axis) is scaled to [0, 1]. Lag distance (X-axis) adjusts automatically based on data and number of bins.
    </p>

    <div class="controls">
        <label for="numPoints">Number of Points (max 100):</label>
        <input type="number" id="numPoints" value="80" min="10" max="100" step="5">

        <label for="noiseLevel">Noise Level (0-1):</label>
        <input type="number" id="noiseLevel" value="0.6" min="0" max="1" step="0.1">

        <label for="lagBins">Lag Bins (max 15):</label>
        <input type="number" id="lagBins" value="10" min="3" max="15" step="1">

        <!-- Removed Max Lag Distance Input -->

        <button id="generateBtn">Generate Data & Plot Variogram</button>
    </div>

    <!-- Wrapper for the two plots -->
    <div class="plots-wrapper">
        <div class="plot-container">
            <h2>Spatial Data Distribution (Value by Color)</h2>
            <canvas id="dataCanvas"></canvas>
        </div>
        <div class="plot-container">
            <h2>Empirical Semivariogram (Scaled)</h2>
            <canvas id="semivariogramCanvas"></canvas>
        </div>
    </div>

    <div id="output"></div>

    <!-- Include Chart.js library -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Include a color library (optional but helpful) -->
    <script src="https://cdn.jsdelivr.net/npm/chroma-js@2.4.2/chroma.min.js"></script>
    <script src="script.js"></script>
</body>
</html>